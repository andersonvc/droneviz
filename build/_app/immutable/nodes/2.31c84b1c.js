import{s as Q,n as M,r as X,o as O,a as Y,f as Z,b as $}from"../chunks/scheduler.b108d059.js";import{S as tt,i as et,g as _,s as R,h as p,j as I,f as S,c as U,y as j,k as T,a as nt,x as u,z as F}from"../chunks/index.2744cf09.js";import{_ as at,s as H,a as st}from"../chunks/droneviz.82df137e.js";function ot(r){let a,s,o,t,n,m="Reset",i,l,y="Start",g,v;return{c(){a=_("div"),s=_("canvas"),o=R(),t=_("bar"),n=_("button"),n.textContent=m,i=R(),l=_("button"),l.textContent=y,this.h()},l(h){a=p(h,"DIV",{class:!0});var d=I(a);s=p(d,"CANVAS",{class:!0}),I(s).forEach(S),o=U(d),t=p(d,"BAR",{class:!0});var e=I(t);n=p(e,"BUTTON",{"data-svelte-h":!0}),j(n)!=="svelte-gtisqx"&&(n.textContent=m),i=U(e),l=p(e,"BUTTON",{"data-svelte-h":!0}),j(l)!=="svelte-io9yjy"&&(l.textContent=y),e.forEach(S),d.forEach(S),this.h()},h(){T(s,"class","svelte-83uv01"),T(t,"class","svelte-83uv01"),T(a,"class","canvas-container svelte-83uv01")},m(h,d){nt(h,a,d),u(a,s),r[3](s),u(a,o),u(a,t),u(t,n),u(t,i),u(t,l),g||(v=[F(n,"click",r[1]),F(l,"click",r[2])],g=!0)},p:M,i:M,o:M,d(h){h&&S(a),r[3](null),g=!1,X(v)}}}let V=100;function k(r,a,s,o){let t=r+s*Math.cos(o),n=a+s*Math.sin(o);return[t,n]}function it(r,a,s){let o=!1,t,n,m,i;const l=()=>{s(0,t.width=window.innerWidth*.9,t),s(0,t.height=window.innerHeight*1-m-19.2,t),t.height/2,t.height/20};O(async()=>{await at(),i=H(V),console.log(i)}),Y(()=>{l(),h()}),Z(()=>{});function y(e,f){for(const[J,K,L]of i){let c=Math.min(f.height,f.width)/90,E=c,b=E+J*(f.width-2*c),P=E+K*(f.height-2*c),w=L+Math.PI/2;e.beginPath(),e.arc(b,P,c,0,2*Math.PI),e.fillStyle="red",e.stroke();let q=k(b,P,c,w-150*Math.PI/180-Math.PI/2),D=k(b,P,c,w-Math.PI/2),N=k(b,P,c,w+150*Math.PI/180-Math.PI/2);e.beginPath(),e.moveTo(q[0],q[1]),e.lineTo(D[0],D[1]),e.lineTo(N[0],N[1]),e.closePath(),e.fillStyle="blue",e.fill()}const[z,A,x]=i.at(-1);console.log(z,A,x);let C=Math.min(f.height,f.width)/90,B=C,W=B+z*(f.width-2*C),G=B+A*(f.height-2*C);e.beginPath(),e.arc(W,G,C,0,2*Math.PI),e.fillStyle="green",e.fill()}function g(){o=!1,i=H(V)}function v(){o=!0}function h(){o&&(i=st()),!(typeof document>"u")&&(n=t==null?void 0:t.getContext("2d"),n||(s(0,t=document.createElement("canvas")),n=t.getContext("2d"),document.querySelector(".canvas-container").appendChild(t)),n.clearRect(0,0,t.width,t.height),y(n,t))}setInterval(()=>{h()},10),O(()=>{const e=getComputedStyle(document.body);m=parseFloat(e.marginTop)+parseFloat(e.marginBottom)});function d(e){$[e?"unshift":"push"](()=>{t=e,s(0,t)})}return[t,g,v,d]}class ct extends tt{constructor(a){super(),et(this,a,it,ot,Q,{})}}export{ct as component};

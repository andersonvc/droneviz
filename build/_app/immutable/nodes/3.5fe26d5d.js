import{s as x,n as g,o as S,a as z,f as A,b as E}from"../chunks/scheduler.b108d059.js";import{S as F,i as H,g as C,h as I,j as T,f as p,k as D,a as V,x as B}from"../chunks/index.2744cf09.js";import{_ as N,s as O}from"../chunks/droneviz.82df137e.js";function R(l){let s,a;return{c(){s=C("div"),a=C("canvas"),this.h()},l(t){s=I(t,"DIV",{class:!0});var n=T(s);a=I(n,"CANVAS",{class:!0}),T(a).forEach(p),n.forEach(p),this.h()},h(){D(a,"class","svelte-tigjgq"),D(s,"class","canvas-container svelte-tigjgq")},m(t,n){V(t,s,n),B(s,a),l[1](a)},p:g,i:g,o:g,d(t){t&&p(s),l[1](null)}}}const U=2e3;function _(l,s,a,t){let n=l+a*Math.cos(t),i=s+a*Math.sin(t);return[n,i]}function W(l,s,a){let t,n,i={x:0,y:0,radius:1},h,y,c;const q=()=>{a(0,t.width=window.innerWidth*.9,t),a(0,t.height=window.innerHeight*1-y-19.2,t),i.x=0,i.y=t.height/2,i.radius=t.height/20};S(async()=>{await N(),c=O()}),z(()=>{q(),w()}),A(()=>{h=null});function j(e,d){for(let r=0;r<c.length;r+=2){let o=Math.min(d.height,d.width)/90,P=o,u=P+c[r]*(d.width-2*o),f=P+c[r+1]*(d.height-2*o),m=0;e.beginPath(),e.arc(u,f,o,0,2*Math.PI),e.fillStyle="red",e.stroke();let b=_(u,f,o,m-150*Math.PI/180-Math.PI/2),v=_(u,f,o,m-Math.PI/2),M=_(u,f,o,m+150*Math.PI/180-Math.PI/2);e.beginPath(),e.moveTo(b[0],b[1]),e.lineTo(v[0],v[1]),e.lineTo(M[0],M[1]),e.closePath(),e.fillStyle="blue",e.fill()}}function w(){if(typeof document>"u")return;n=t==null?void 0:t.getContext("2d"),n||(a(0,t=document.createElement("canvas")),n=t.getContext("2d"),document.querySelector(".canvas-container").appendChild(t)),n.clearRect(0,0,t.width,t.height);const e=Date.now();h||(h=e);const r=(e-h)/U;i.x=r*(t.width-i.radius),i.x>=t.width-i.radius&&(i.x=0-2,h=null),n.beginPath(),n.arc(i.x,i.y,i.radius,0,2*Math.PI),n.fillStyle="blue",n.fill(),j(n,t)}setInterval(()=>{w()},10),S(()=>{const e=getComputedStyle(document.body);y=parseFloat(e.marginTop)+parseFloat(e.marginBottom)});function k(e){E[e?"unshift":"push"](()=>{t=e,a(0,t)})}return[t,k]}class Q extends F{constructor(s){super(),H(this,s,W,R,x,{})}}export{Q as component};
